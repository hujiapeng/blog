Repository Bean是如何创建的？
1. 首先找到org.springframework.data.jpa.repository.config.JpaRepositoriesRegistrar，该类激活了@EnableJpaRepositories注解，返回JpaRepositoryConfigExtension。JpaRepositoryConfigExtension中getRepositoryFactoryBeanClassName方法可知获取的是JpaRepositoryFactoryBean
2. RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions注册Repository Bean，类型是JpaRepositoryFactoryBean。重要的是delegate.registerRepositoriesIn(registry, extension)，进入该方法
3. JpaRepositoryConfigExtension.getRepositoryConfigurations获取Repository配置。
4. 经过一系列配置后，在JpaRepositoryFactoryBean中的afterPropertiesSet方法中，到父类方法afterPropertiesSet中会看到this.factory.getRepository(repositoryInterface, repositoryFragmentsToUse))，再进入RepositoryFactorySupport.getRepository方法得到Repository代理类
5. JpaRepositoryFactory.getTargetRepository创建了Repository
6. SimpleJpaRepository中定义了常用的默认方法实现，如save、count、delete、find等
7. RepositoryFactorySupport.getRepository中添加了一些Advice做了增强，如QueryExecutorMethodInterceptor对查询做了增强，在QueryExecutorMethodInterceptor中找到invoke到doInvoke中的queries.get(method).execute(invocation.getArguments())，进入execute，具体的查询是在AbstractJpaQuery.execute中执行。
8. 语法解析在包org.springframework.data.repository.query.parser下。如PartTree中可以看到一些Repository所支持的一些模糊操作，如"find|read|get|query|stream"或"delete|remove"等